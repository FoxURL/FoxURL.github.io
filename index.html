<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FoxURL – innovate your connection</title>
  <script src="https://FoxURL.github.io/main.js" defer></script>
  <link rel="stylesheet" href="https://FoxURL.github.io/style.css">
</head>
<body>

  <!-- Hero Section -->
  <header class="hero">
    <img src="https://FoxURL.github.io/logo.png" alt="FoxURL Logo" class="logo">
    <h1>FoxURL</h1>
    <p class="tagline">Innovate your connection</p>
    <p class="tagline">featured links</p>
    <!-- Buttons under hero -->
    <div class="hero-buttons">
      <a href="https://foxurl.github.io/apps/clock" class="btn">clock ⏰</a>
      <a href="https://foxurl.github.io/contact/foxpower/" class="btn">contact Foxpower</a>
      <a href="https://foxurl.github.io/apps" class="btn">See all apps</a>
    </div>
  </header>
<!-- FOXURL EMBEDDED SEARCH WIDGET -->
<div id="foxurl-search-widget" style="max-width:500px;margin:20px auto;font-family:sans-serif;">
  <input id="foxurl-search-input" type="text" placeholder="Search…" 
    style="width:100%;padding:12px;border:2px solid orange;border-radius:10px;font-size:16px;outline:none;transition:0.2s;">
  <div id="foxurl-search-results" style="margin-top:12px;"></div>
</div>

<script>
(async () => {
  const input = document.getElementById("foxurl-search-input");
  const resultsBox = document.getElementById("foxurl-search-results");

  // Load your layout.json
  let pages = [];
  try {
    const res = await fetch("layout.json");
    pages = await res.json();
  } catch (e) {
    resultsBox.innerHTML = "<p style='color:red;'>Could not load layout.json</p>";
  }

  let selectedIndex = -1;

  function renderResults(query) {
    resultsBox.innerHTML = "";
    selectedIndex = -1;
    if (!query.trim()) return;

    const q = query.toLowerCase();
    const matches = pages.filter(p =>
      p.name.toLowerCase().includes(q) ||
      p.description.toLowerCase().includes(q) ||
      (p.tags || []).some(tag => tag.toLowerCase().includes(q))
    ).slice(0, 7);

    matches.forEach((p, i) => {
      const item = document.createElement("div");
      item.className = "result-item";
      item.style = `
        padding:10px;
        border:1px solid #ffa64d;
        border-radius:10px;
        margin-bottom:10px;
        cursor:pointer;
        background:#fff6ec;
        transition:0.15s;
      `;

      item.innerHTML = `
        <strong style="color:#ff7a00;">${p.name}</strong><br>
        <span style="font-size:14px;">${p.description}</span><br>
        <div style="margin-top:4px;">
          ${(p.tags || []).map(t => `<span style="
            display:inline-block;
            background:#ffddbf;
            color:#c45a00;
            padding:3px 8px;
            margin-right:4px;
            border-radius:6px;
            font-size:12px;
          ">${t}</span>`).join("")}
        </div>
      `;

      item.addEventListener("click", () => window.location = p.link);
      resultsBox.appendChild(item);
    });
  }

  input.addEventListener("input", () => renderResults(input.value));

  // Keyboard navigation
  input.addEventListener("keydown", e => {
    const items = [...document.querySelectorAll("#foxurl-search-results .result-item")];
    if (items.length === 0) return;

    if (e.key === "ArrowDown") {
      selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
      updateHighlight(items);
      e.preventDefault();
    }
    if (e.key === "ArrowUp") {
      selectedIndex = Math.max(selectedIndex - 1, 0);
      updateHighlight(items);
      e.preventDefault();
    }
    if (e.key === "Enter" && selectedIndex >= 0) {
      items[selectedIndex].click();
    }
  });

  function updateHighlight(items) {
    items.forEach((it, idx) => {
      it.style.background = idx === selectedIndex ? "#ffe0c2" : "#fff6ec";
      it.style.transform = idx === selectedIndex ? "scale(1.02)" : "scale(1)";
    });
  }
})();
</script>


  <!-- Main Content -->
  <main id="main">
    <section class="content">
      <h2>Welcome to FoxURL</h2>
      <p>
        At FoxURL, we believe in creating smarter, faster, and more connected experiences.
        Whether you're sharing links, innovating online, or exploring digital creativity —
        FoxURL helps you make every connection matter.
      </p>
    </section>

    <!-- Explore Section -->
    <section class="content" id="explore">
      <h2>Explore</h2>
      <div class="explore-links">
        <a href="https://foxurl.github.io/apps" class="btn">Apps ⏰</a>
        <a href="https://foxurl.github.io/contact/foxpower" class="btn">Contact ⚡</a>
      </div>
    </section>

    <!-- App iframe -->
    <iframe id="appFrame" src="" style="display:none;"></iframe>

    
  </main>

  <!-- Sidebar Toggle Button for Mobile -->
  <button id="sidebarToggle">☰ Explore</button>
  <aside id="sidebar">
    <h2> </h2>
    <h2>Explore</h2>
    <a href="https://foxurl.github.io/apps" class="sidebar-btn">Apps</a>
    <a href="https://foxurl.github.io/contact/foxpower" class="sidebar-btn">Contact fox power⚡</a>
    <a href="https://foxurl.github.io/apps/Cat-feeding" class="sidebar-btn">Cat feeding</a>
    <a href="https://foxurl.github.io/apps/clock" class="sidebar-btn">Clock</a>
    <a href="https://foxurl.github.io/apps/internet-speed-test" class="sidebar-btn">internet speed test</a>
    <a href="https://foxurl.github.io/apps/wordle_solver.html" class="sidebar-btn">wordle solver</a>
  </aside>

  <script>
    // Open app in iframe
    function openApp(url) {
      const iframe = document.getElementById('appFrame');
      iframe.src = url;
      iframe.style.display = 'block';
      iframe.scrollIntoView({behavior: 'smooth'});
    }

    // Scroll to contact
    function scrollToContact() {
      const contact = document.getElementById('contact');
      contact.scrollIntoView({behavior: 'smooth'});
    }

    // Sidebar toggle for mobile
    const sidebar = document.getElementById('sidebar');
    const toggle = document.getElementById('sidebarToggle');
    toggle.addEventListener('click', () => {
      sidebar.classList.toggle('active');
    });
  </script>

</body>
</html>
